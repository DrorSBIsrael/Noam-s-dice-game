<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ² ××©×—×§ ×”×§×•×‘×™×•×ª ×©×œ × ×•×¢×</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { margin: 0; padding: 0; font-family: Arial, sans-serif; }
        .dice-roll { animation: spin 0.1s linear infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .player-glow { box-shadow: 0 0 20px gold; animation: glow 1s ease-in-out infinite; }
        @keyframes glow { 0%, 100% { box-shadow: 0 0 20px gold; } 50% { box-shadow: 0 0 40px gold; } }
    </style>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState, useRef } = React;

        function DiceGame() {
            const [screen, setScreen] = useState('welcome');
            const [players, setPlayers] = useState([]);
            const [currentPlayerIndex, setCurrentPlayerIndex] = useState(0);
            const [gameRound, setGameRound] = useState(1);
            const [isRolling, setIsRolling] = useState(false);
            const [diceResults, setDiceResults] = useState([]);
            const [soundEnabled, setSoundEnabled] = useState(true);
            const [gameSettings, setGameSettings] = useState({ playerCount: 2, gameType: 1 });
            const [isFirstPlayer, setIsFirstPlayer] = useState(true);
            const [showRules, setShowRules] = useState(false);

            const avatarEmojis = ['ğŸ§‘â€ğŸ’¼', 'ğŸ‘©â€ğŸ¦°', 'ğŸ§‘â€ğŸ¨', 'ğŸ‘¨â€ğŸ«', 'ğŸ‘©â€âš•ï¸', 'ğŸ§‘â€ğŸš€', 'ğŸ‘©â€ğŸ¤', 'ğŸ‘¨â€ğŸ³', 'ğŸ‘©â€ğŸ”¬'];
            const avatarGradients = [
                'bg-gradient-to-br from-red-400 to-red-600',
                'bg-gradient-to-br from-blue-400 to-blue-600', 
                'bg-gradient-to-br from-green-400 to-green-600',
                'bg-gradient-to-br from-yellow-400 to-orange-500',
                'bg-gradient-to-br from-purple-400 to-purple-600',
                'bg-gradient-to-br from-pink-400 to-pink-600',
                'bg-gradient-to-br from-indigo-400 to-indigo-600',
                'bg-gradient-to-br from-orange-400 to-red-500',
                'bg-gradient-to-br from-teal-400 to-teal-600'
            ];

            const getPlayerPosition = (index, total) => {
                const angle = (index * 360) / Math.min(total, 10);
                const radiusX = 45;
                const radiusY = 35;
                const x = 50 + radiusX * Math.cos((angle - 90) * Math.PI / 180);
                const y = 50 + radiusY * Math.sin((angle - 90) * Math.PI / 180);
                return { x: `${x}%`, y: `${y}%` };
            };

            const calculateScore = (dice) => {
                const counts = {};
                dice.forEach(d => counts[d] = (counts[d] || 0) + 1);
                const values = Object.values(counts).sort((a,b) => b-a);
                const sortedDice = [...dice].sort((a,b) => a-b);
                
                if (values[0] === 5) {
                    const num = Object.keys(counts).find(k => counts[k] === 5);
                    return 5000 * parseInt(num);
                }
                if (sortedDice.join('') === '12345' || sortedDice.join('') === '23456') {
                    return 10000;
                }
                if (values[0] === 4) {
                    const num = Object.keys(counts).find(k => counts[k] === 4);
                    return 1500 * parseInt(num);
                }
                if (values[0] === 3 && values[1] === 2) {
                    const threeNum = Object.keys(counts).find(k => counts[k] === 3);
                    return 500 * parseInt(threeNum);
                }
                if (values[0] === 3) {
                    const threeNum = Object.keys(counts).find(k => counts[k] === 3);
                    return 250 * parseInt(threeNum);
                }
                if (values[0] === 2 && values[1] === 2) {
                    const pairs = Object.keys(counts).filter(k => counts[k] === 2).map(Number);
                    return 100 * Math.max(...pairs);
                }
                if (values[0] === 2) {
                    const pairNum = Object.keys(counts).find(k => counts[k] === 2);
                    return 10 * parseInt(pairNum);
                }
                return dice.reduce((sum, d) => sum + d, 0);
            };

            const getScoreCombination = (dice) => {
                const counts = {};
                dice.forEach(d => counts[d] = (counts[d] || 0) + 1);
                const values = Object.values(counts).sort((a,b) => b-a);
                const sortedDice = [...dice].sort((a,b) => a-b);
                
                if (values[0] === 5) return 'ğŸ¯ 5 ×–×”×•×ª!';
                if (sortedDice.join('') === '12345' || sortedDice.join('') === '23456') return 'ğŸ² ×¨×¦×£ ××œ×!';
                if (values[0] === 4) return 'ğŸ”¥ 4 ×–×”×•×ª';
                if (values[0] === 3 && values[1] === 2) return 'ğŸ  ×¤×•×œ ×”××•×¡';
                if (values[0] === 3) return 'âœ¨ 3 ×–×”×•×ª';
                if (values[0] === 2 && values[1] === 2) return 'ğŸ‘¥ ×–×•×’ ×›×¤×•×œ';
                if (values[0] === 2) return 'ğŸ‘« ×–×•×’';
                return 'ğŸ¯ ×œ×œ× ×§×•××‘×™× ×¦×™×”';
            };

            const rollDice = () => {
                if (isRolling) return;
                
                setIsRolling(true);
                let rollCount = 0;
                const maxRolls = 15;
                
                const rollInterval = setInterval(() => {
                    rollCount++;
                    setDiceResults(Array.from({length: 5}, () => Math.floor(Math.random() * 6) + 1));
                    
                    if (rollCount >= maxRolls) {
                        clearInterval(rollInterval);
                        
                        setTimeout(() => {
                            const finalResults = Array.from({length: 5}, () => Math.floor(Math.random() * 6) + 1);
                            setDiceResults(finalResults);
                            
                            const score = calculateScore(finalResults);
                            const combination = getScoreCombination(finalResults);
                            
                            const newPlayers = [...players];
                            if (newPlayers[currentPlayerIndex]) {
                                newPlayers[currentPlayerIndex].totalScore += score;
                                newPlayers[currentPlayerIndex].lastRoll = {
                                    dice: finalResults,
                                    score: score,
                                    combination: combination
                                };
                                setPlayers(newPlayers);
                            }
                            
                            setIsRolling(false);
                            
                            setTimeout(() => {
                                nextTurn();
                            }, 3000);
                        }, 500);
                    }
                }, 120);
            };

            const nextTurn = () => {
                const activePlayers = players.filter(p => !p.eliminated);
                const playersWithRolls = activePlayers.filter(p => p.lastRoll);
                
                if (playersWithRolls.length === activePlayers.length && activePlayers.length > 1) {
                    const lowestScore = Math.min(...activePlayers.map(p => p.totalScore));
                    const lowestPlayers = activePlayers.filter(p => p.totalScore === lowestScore);
                    
                    const newPlayers = players.map(p => ({
                        ...p,
                        eliminated: p.eliminated || lowestPlayers.includes(p),
                        lastRoll: null
                    }));
                    
                    setPlayers(newPlayers);
                    setDiceResults([]);
                    
                    const remaining = newPlayers.filter(p => !p.eliminated);
                    if (remaining.length <= 1) {
                        setScreen('gameOver');
                        return;
                    }
                    
                    setGameRound(gameRound + 1);
                    setCurrentPlayerIndex(newPlayers.findIndex(p => !p.eliminated));
                } else {
                    let nextIndex = currentPlayerIndex;
                    do {
                        nextIndex = (nextIndex + 1) % players.length;
                    } while (players[nextIndex] && (players[nextIndex].eliminated || players[nextIndex].lastRoll));
                    
                    setCurrentPlayerIndex(nextIndex);
                }
            };

            const addPlayer = (name) => {
                if (!name || name.trim().length < 2) {
                    alert('×©× ×”×©×—×§×Ÿ ×—×™×™×‘ ×œ×”×™×•×ª ×œ×¤×—×•×ª 2 ×ª×•×•×™×');
                    return false;
                }
                
                if (players.some(p => p.name === name.trim())) {
                    alert('×©× ×–×” ×›×‘×¨ ×§×™×™× - ×‘×—×¨ ×©× ××—×¨');
                    return false;
                }
                
                if (players.length < gameSettings.playerCount) {
                    setPlayers([...players, {
                        id: players.length + 1,
                        name: name.trim(),
                        totalScore: 0,
                        eliminated: false,
                        lastRoll: null
                    }]);
                    
                    if (players.length + 1 === gameSettings.playerCount) {
                        setScreen('game');
                    }
                    return true;
                }
                return false;
            };

            const resetGame = () => {
                setScreen('welcome');
                setPlayers([]);
                setCurrentPlayerIndex(0);
                setGameRound(1);
                setDiceResults([]);
                setIsFirstPlayer(true);
                setGameSettings({ playerCount: 2, gameType: 1 });
            };

            const handleAddPlayer = (inputElement) => {
                if (inputElement.value.trim()) {
                    if (addPlayer(inputElement.value.trim())) {
                        inputElement.value = '';
                        if (players.length + 1 < gameSettings.playerCount) {
                            setIsFirstPlayer(false);
                        }
                    }
                } else {
                    alert('×× × ×”×›× ×¡ ×©×');
                }
            };

            if (showRules) {
                return (
                    <div className="min-h-screen bg-gradient-to-br from-green-800 to-green-900 flex items-center justify-center p-4">
                        <div className="bg-white rounded-xl p-6 max-w-2xl max-h-96 overflow-y-auto">
                            <h3 className="text-2xl font-bold mb-4">ğŸ² ×”×•×¨××•×ª ×”××©×—×§</h3>
                            <div className="space-y-3 text-right">
                                <div>
                                    <h4 className="font-bold text-lg">××˜×¨×ª ×”××©×—×§:</h4>
                                    <p>×œ×”×™×•×ª ×”×©×—×§×Ÿ ×”××—×¨×•×Ÿ ×©× ×©××¨ ×‘××©×—×§!</p>
                                </div>
                                
                                <div>
                                    <h4 className="font-bold text-lg">××”×œ×š ×”××©×—×§:</h4>
                                    <ol className="list-decimal list-inside space-y-1">
                                        <li>×›×œ ×©×—×§×Ÿ ×‘×ª×•×¨×• ×–×•×¨×§ 5 ×§×•×‘×™×•×ª</li>
                                        <li>×”××¢×¨×›×ª ××—×©×‘×ª ××ª ×”× ×™×§×•×“ ×œ×¤×™ ×”×§×•××‘×™× ×¦×™×”</li>
                                        <li>×‘×¡×•×£ ×›×œ ×¡×™×‘×•×‘, ×”×©×—×§×Ÿ ×¢× ×”× ×™×§×•×“ ×”× ××•×š ×‘×™×•×ª×¨ × ×¤×¡×œ</li>
                                        <li>×”××©×—×§ ×××©×™×š ×¢×“ ×©× ×©××¨ ×©×—×§×Ÿ ××—×“ - ×”×× ×¦×—!</li>
                                    </ol>
                                </div>
                                
                                <div>
                                    <h4 className="font-bold text-lg">×˜×‘×œ×ª × ×™×§×•×“:</h4>
                                    <div className="text-sm space-y-1">
                                        <div>ğŸ¯ 5 ×–×”×•×ª: 5,000 Ã— ×”××¡×¤×¨</div>
                                        <div>ğŸ² ×¨×¦×£ ××œ×: 10,000 × ×§×•×“×•×ª</div>
                                        <div>ğŸ”¥ 4 ×–×”×•×ª: 1,500 Ã— ×”××¡×¤×¨</div>
                                        <div>ğŸ  ×¤×•×œ ×”××•×¡: 500 Ã— ×”××¡×¤×¨ ×©×œ ×”×©×œ×™×©×™×™×”</div>
                                        <div>âœ¨ 3 ×–×”×•×ª: 250 Ã— ×”××¡×¤×¨</div>
                                        <div>ğŸ‘¥ ×–×•×’ ×›×¤×•×œ: 100 Ã— ×”×–×•×’ ×”×’×‘×•×”</div>
                                        <div>ğŸ‘« ×–×•×’: 10 Ã— ×”××¡×¤×¨</div>
                                        <div>ğŸ¯ ×œ×œ× ×§×•××‘×™× ×¦×™×”: ×¡×›×•× ×›×œ ×”×§×•×‘×™×•×ª</div>
                                    </div>
                                </div>
                            </div>
                            
                            <button 
                                onClick={() => setShowRules(false)}
                                className="mt-4 bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-6 rounded-lg w-full"
                            >
                                ×”×‘× ×ª×™!
                            </button>
                        </div>
                    </div>
                );
            }

            if (screen === 'welcome') {
                return (
                    <div className="min-h-screen bg-gradient-to-br from-green-800 to-green-900 flex items-center justify-center p-4">
                        <div className="text-center bg-white rounded-xl p-8 shadow-2xl max-w-md w-full">
                            <div className="text-6xl mb-4 animate-bounce">ğŸ²</div>
                            <h2 className="text-3xl font-bold text-green-800 mb-2">××©×—×§ ×”×§×•×‘×™×•×ª</h2>
                            <h3 className="text-xl text-green-600 mb-8">×©×œ × ×•×¢×</h3>
                            
                            <button 
                                onClick={() => setScreen('setup')}
                                className="bg-green-600 hover:bg-green-700 text-white font-bold py-4 px-8 rounded-lg text-xl w-full transition-all duration-300 transform hover:scale-105 mb-4"
                            >
                                ğŸ‘¥ ×”×ª×—×œ ××©×—×§ ×—×“×©
                            </button>
                            
                            <button 
                                onClick={() => setShowRules(true)}
                                className="text-green-600 hover:text-green-700 underline"
                            >
                                ğŸ“‹ ×”×•×¨××•×ª ×”××©×—×§
                            </button>
                        </div>
                    </div>
                );
            }

            if (screen === 'setup') {
                return (
                    <div className="min-h-screen bg-gradient-to-br from-green-800 to-green-900 flex items-center justify-center p-4">
                        <div className="text-center bg-white rounded-xl p-8 shadow-2xl max-w-md w-full">
                            <h2 className="text-2xl font-bold text-gray-800 mb-6">ğŸ® ×”×’×“×¨×ª ××©×—×§</h2>
                            
                            {isFirstPlayer && (
                                <div className="mb-6">
                                    <label className="block text-gray-700 font-bold mb-2">×›××•×ª ×©×—×§× ×™×</label>
                                    <select 
                                        value={gameSettings.playerCount}
                                        onChange={(e) => setGameSettings({...gameSettings, playerCount: parseInt(e.target.value)})}
                                        className="w-full p-3 border-2 border-gray-300 rounded-lg text-center focus:border-green-500 focus:outline-none"
                                    >
                                        {[2,3,4,5,6,7,8,9].map(n => (
                                            <option key={n} value={n}>{n} ×©×—×§× ×™×</option>
                                        ))}
                                    </select>
                                </div>
                            )}
                            
                            <div className="mb-6">
                                <label className="block text-gray-700 font-bold mb-2">
                                    {isFirstPlayer ? 'ğŸ‘¤ ×”×©×—×§×Ÿ ×”×¨××©×•×Ÿ' : 'ğŸ‘¥ ×”×¦×˜×¨×£ ×œ××©×—×§'}
                                </label>
                                <input 
                                    id="playerNameInput"
                                    type="text"
                                    placeholder={isFirstPlayer ? "×”×›× ×¡ ××ª ×©××š (×™×•×¦×¨ ×”×©×•×œ×—×Ÿ)" : "×”×›× ×¡ ××ª ×©××š"}
                                    className="w-full p-3 border-2 border-gray-300 rounded-lg text-center focus:border-green-500 focus:outline-none"
                                    maxLength="15"
                                    onKeyPress={(e) => {
                                        if (e.key === 'Enter') {
                                            handleAddPlayer(e.target);
                                        }
                                    }}
                                />
                            </div>
                            
                            <button 
                                onClick={() => {
                                    const input = document.getElementById('playerNameInput');
                                    handleAddPlayer(input);
                                }}
                                className="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-lg w-full mb-4 transition-all duration-300 transform hover:scale-105"
                            >
                                {players.length === 0 ? 'ğŸ¯ ×™×¦×™×¨×ª ×©×•×œ×—×Ÿ' : 'ğŸ‘¥ ×”×¦×˜×¨×¤×•×ª ×œ×©×•×œ×—×Ÿ'}
                            </button>
                            
                            {players.length > 0 && (
                                <div className="text-gray-600 bg-gray-50 rounded-lg p-4 mb-4">
                                    <div className="font-bold mb-2">
                                        ×©×—×§× ×™× ×‘××©×—×§: {players.length}/{gameSettings.playerCount}
                                    </div>
                                    <div className="space-y-1">
                                        {players.map((p, index) => (
                                            <div key={p.id} className="text-sm flex items-center justify-center gap-2">
                                                <span>{avatarEmojis[index]}</span>
                                                <span>{p.name}</span>
                                            </div>
                                        ))}
                                    </div>
                                    {players.length < gameSettings.playerCount && (
                                        <div className="text-sm text-blue-600 mt-2 animate-pulse">
                                            â³ ×××ª×™×Ÿ ×œ×¢×•×“ {gameSettings.playerCount - players.length} ×©×—×§× ×™×...
                                        </div>
                                    )}
                                </div>
                            )}
                            
                            <button 
                                onClick={() => setScreen('welcome')}
                                className="text-gray-500 hover:text-gray-700"
                            >
                                â† ×—×–×•×¨
                            </button>
                        </div>
                    </div>
                );
            }

            if (screen === 'game') {
                return (
                    <div className="min-h-screen bg-gradient-to-br from-green-800 to-green-900 p-4">
                        <div className="w-full max-w-6xl mx-auto">
                            {/* Header */}
                            <div className="flex justify-between items-center mb-6">
                                <button
                                    onClick={() => setSoundEnabled(!soundEnabled)}
                                    className="bg-white rounded-full p-3 shadow-lg hover:shadow-xl transition-all duration-300"
                                >
                                    {soundEnabled ? 'ğŸ”Š' : 'ğŸ”‡'}
                                </button>

                                <div className="text-center text-white bg-black bg-opacity-30 rounded-xl px-6 py-3">
                                    <h2 className="text-xl font-bold">ğŸ² ×¡×™×‘×•×‘ {gameRound}</h2>
                                    <p className="text-sm">×ª×•×¨: <span className="font-bold text-yellow-300">{players[currentPlayerIndex]?.name}</span></p>
                                </div>

                                <button
                                    onClick={() => {
                                        if (confirm('×”×× ××ª×” ×‘×˜×•×— ×©×ª×¨×¦×” ×œ××¤×¡ ××ª ×”××©×—×§?')) {
                                            resetGame();
                                        }
                                    }}
                                    className="bg-white rounded-full p-3 shadow-lg hover:shadow-xl transition-all duration-300"
                                >
                                    ğŸ”„
                                </button>
                            </div>

                            {/* Game Table */}
                            <div className="relative w-full h-80 mx-auto max-w-6xl">
                                <div className="w-full h-full bg-green-600 rounded-full border-8 border-yellow-600 shadow-2xl" style={{borderRadius: '50%/40%'}}>
                                    
                                    {/* Players */}
                                    {players.map((player, index) => {
                                        const pos = getPlayerPosition(index, players.length);
                                        const isCurrentPlayer = index === currentPlayerIndex;
                                        const isEliminated = player.eliminated;
                                        
                                        return (
                                            <div key={player.id}>
                                                <div
                                                    className={`absolute transform -translate-x-1/2 -translate-y-1/2 text-center transition-all duration-500 z-10 ${
                                                        isEliminated ? 'opacity-30 grayscale' : ''
                                                    } ${isCurrentPlayer && !isEliminated ? 'scale-110' : ''}`}
                                                    style={{ left: pos.x, top: pos.y }}
                                                >
                                                    <div className={`w-20 h-20 ${avatarGradients[index]} rounded-full flex items-center justify-center text-3xl mb-2 shadow-lg border-4 border-white transition-all duration-500 ${
                                                        isCurrentPlayer && !isEliminated ? 'player-glow' : ''
                                                    }`}>
                                                        {isEliminated ? 'ğŸ’€' : avatarEmojis[index]}
                                                    </div>
                                                    
                                                    <div className={`text-white text-sm font-bold mb-1 ${
                                                        isCurrentPlayer && !isEliminated ? 'text-yellow-300' : ''
                                                    }`}>
                                                        {player.name}
                                                    </div>
                                                    
                                                    <div className="text-yellow-300 text-sm font-bold">
                                                        {player.totalScore.toLocaleString()} × ×§'
                                                    </div>
                                                    
                                                    {player.lastRoll && !isEliminated && (
                                                        <div className="text-xs text-gray-200 mt-1 bg-black bg-opacity-50 rounded px-2 py-1">
                                                            {player.lastRoll.combination}<br/>
                                                            <span className="text-green-300">+{player.lastRoll.score}</span>
                                                        </div>
                                                    )}
                                                </div>

                                                {/* Player Dice */}
                                                {player.lastRoll && !isEliminated && (
                                                    <div
                                                        className="absolute transform -translate-x-1/2 -translate-y-1/2 z-10"
                                                        style={{ 
                                                            left: `${parseFloat(pos.x) + (index % 2 === 0 ? 8 : -8)}%`, 
                                                            top: `${parseFloat(pos.y) + (index < players.length/2 ? 4 : -4)}%` 
                                                        }}
                                                    >
                                                        <div className="flex gap-1">
                                                            {player.lastRoll.dice.map((dice, diceIndex) => (
                                                                <div
                                                                    key={diceIndex}
                                                                    className="w-8 h-8 bg-white rounded text-black text-sm flex items-center justify-center font-bold border shadow-lg"
                                                                >
                                                                    {dice}
                                                                </div>
                                                            ))}
                                                        </div>
                                                    </div>
                                                )}
                                            </div>
                                        );
                                    })}

                                    {/* Central Dice */}
                                    <div className="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-30">
                                        {diceResults.length > 0 && isRolling && (
                                            <div className="flex gap-3 mb-6">
                                                {diceResults.map((dice, index) => (
                                                    <div
                                                        key={index}
                                                        className={`w-16 h-16 bg-white rounded-xl flex items-center justify-center text-3xl font-bold shadow-2xl ${
                                                            isRolling ? 'dice-roll' : ''
                                                        }`}
                                                    >
                                                        {dice}
                                                    </div>
                                                ))}
                                            </div>
                                        )}
                                        
                                        {!isRolling && !players[currentPlayerIndex]?.lastRoll ? (
                                            <button
                                                onClick={rollDice}
                                                className="bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white font-bold py-5 px-10 rounded-xl shadow-lg transition-all duration-300 transform hover:scale-105"
                                            >
                                                <div className="flex items-center gap-3">
                                                    <span className="text-3xl">ğŸ²</span>
                                                    <div>
                                                        <div className="text-xl">×–×¨×•×§ ×§×•×‘×™×•×ª</div>
                                                        <div className="text-sm opacity-90">{players[currentPlayerIndex]?.name}</div>
                                                    </div>
                                                    <span className="text-3xl">ğŸ²</span>
                                                </div>
                                            </button>
                                        ) : isRolling ? (
                                            <div className="text-white font-bold text-xl bg-black bg-opacity-70 rounded-xl px-8 py-6">
                                                <div className="flex items-center gap-4">
                                                    <span className="text-4xl animate-spin">ğŸ²</span>
                                                    <div>
                                                        <div className="text-2xl">×–×•×¨×§ ×§×•×‘×™×•×ª...</div>
                                                        <div className="text-sm">{players[currentPlayerIndex]?.name}</div>
                                                    </div>
                                                    <span className="text-4xl animate-spin">ğŸ²</span>
                                                </div>
                                            </div>
                                        ) : (
                                            <div className="text-white font-bold text-lg bg-green-900 bg-opacity-80 rounded-xl px-6 py-4">
                                                <div className="text-center">
                                                    <div className="text-sm">×××ª×™×Ÿ ×œ×©×—×§×Ÿ ×”×‘×...</div>
                                                    <div>â³</div>
                                                </div>
                                            </div>
                                        )}
                                    </div>
                                </div>
                            </div>

                            {/* Leaderboard */}
                            <div className="mt-6 bg-white bg-opacity-10 rounded-xl p-4 max-w-md mx-auto">
                                <h3 className="text-white font-bold text-center mb-3">ğŸ† ×œ×•×— ×ª×•×¦××•×ª</h3>
                                <div className="space-y-2">
                                    {players
                                        .filter(p => !p.eliminated)
                                        .sort((a, b) => b.totalScore - a.totalScore)
                                        .map((player, index) => (
                                            <div key={player.id} className={`flex items-center justify-between p-2 rounded-lg ${
                                                index === 0 ? 'bg-yellow-500 bg-opacity-30' : 
                                                index === 1 ? 'bg-gray-400 bg-opacity-30' : 
                                                index === 2 ? 'bg-orange-500 bg-opacity-30' : 
                                                'bg-white bg-opacity-10'
                                            }`}>
                                                <div className="flex items-center gap-2">
                                                    <span className="text-lg">
                                                        {index === 0 ? 'ğŸ¥‡' : index === 1 ? 'ğŸ¥ˆ' : index === 2 ? 'ğŸ¥‰' : `${index + 1}.`}
                                                    </span>
                                                    <span className="text-white font-bold">{player.name}</span>
                                                </div>
                                                <span className="text-white font-bold">{player.totalScore.toLocaleString()}</span>
                                            </div>
                                        ))}
                                </div>
                            </div>
                        </div>
                    </div>
                );
            }

            if (screen === 'gameOver') {
                return (
                    <div className="min-h-screen bg-gradient-to-br from-green-800 to-green-900 flex items-center justify-center p-4">
                        <div className="text-center bg-white rounded-xl p-8 shadow-2xl max-w-lg w-full">
                            <div className="text-8xl mb-6 animate-bounce">ğŸ†</div>
                            <h2 className="text-4xl font-bold text-yellow-600 mb-4">
                                {players.find(p => !p.eliminated)?.name}
                            </h2>
                            <p className="text-2xl text-gray-700 mb-2">ğŸ‰ ×× ×¦×—! ğŸ‰</p>
                            <p className="text-xl text-gray-600 mb-6">
                                × ×™×§×•×“ ×¡×•×¤×™: <span className="font-bold text-green-600">
                                    {players.find(p => !p.eliminated)?.totalScore.toLocaleString()}
                                </span> × ×§×•×“×•×ª
                            </p>
                            
                            <div className="bg-gray-50 rounded-lg p-4 mb-6">
                                <h3 className="font-bold text-lg mb-3">ğŸ… ×“×™×¨×•×’ ×¡×•×¤×™</h3>
                                <div className="space-y-2">
                                    {players
                                        .sort((a, b) => b.totalScore - a.totalScore)
                                        .map((player, index) => (
                                            <div key={player.id} className={`flex items-center justify-between p-2 rounded ${
                                                !player.eliminated ? 'bg-yellow-200' : 'bg-gray-200'
                                            }`}>
                                                <div className="flex items-center gap-2">
                                                    <span>
                                                        {index === 0 ? 'ğŸ¥‡' : index === 1 ? 'ğŸ¥ˆ' : index === 2 ? 'ğŸ¥‰' : `${index + 1}.`}
                                                    </span>
                                                    <span className={!player.eliminated ? 'font-bold' : 'line-through'}>
                                                        {player.name}
                                                    </span>
                                                </div>
                                                <span className="font-bold">{player.totalScore.toLocaleString()}</span>
                                            </div>
                                        ))}
                                </div>
                            </div>
                            
                            <button
                                onClick={resetGame}
                                className="bg-green-600 hover:bg-green-700 text-white font-bold py-4 px-8 rounded-lg w-full transition-all duration-300 transform hover:scale-105 flex items-center justify-center gap-3"
                            >
                                ğŸ”„
                                <span className="text-xl">××©×—×§ ×—×“×©</span>
                                <span className="text-2xl">ğŸ²</span>
                            </button>
                        </div>
                    </div>
                );
            }

            return null;
        }

        ReactDOM.render(<DiceGame />, document.getElementById('root'));
    </script>
</body>
</html>
